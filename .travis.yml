language: python
python: # note: this only applies to the test target, not any generated wheels
  - 2.7
  - 3.4
  - 3.5
  - 3.6
  - 3.7
  - 3.8

git:
  depth: 1

before_install:
  - |
    if [[ "$TRAVIS_OS_NAME" = windows ]]; then
        choco install python --version 3.8.0
        export PATH="/c/Python38:/c/Python38/Scripts:$PATH"
        # make sure it's on PATH as 'python'
        ln -s /c/Python38/python.exe /c/Python38/python3.exe
    fi

addons:
  apt:
    packages:
    - xorg-dev  

before_script:
  - if [ "$TRAVIS_OS_NAME" = "linux" ]; then sudo apt-get install -y xpra xserver-xorg-video-dummy freeglut3-dev; fi

script: 
  #- mkdir build && cd build
  #- cmake ..
  #- make
  #- cd ..
  #- python --version
  - python setup.py install
  - python test/polyscope_test.py backend=openGL_mock
